/* empty css             */import{i as c}from"./index-DXY6bQZx.js";import{e as b,d as _,c as n,s as v,a as l,f as A,w as u,L as S,m as s,p as T,o,F as w,r as E,B,M as k,t as g}from"./index-0MHbT1SH.js";const O={style:{width:"99%"}},M={key:0,class:"card"},C={key:1,class:"card",style:{"margin-top":"20px",width:"50%"}},L={key:2,style:{}},U={__name:"Home",setup(D){const a=b({user:JSON.parse(localStorage.getItem("code_user")||"{}"),noticeTable:[]});console.log(a.user),(()=>{s.get("/notice/selectAll").then(e=>{e.code==="200"?(a.noticeTable=e.data,a.noticeTable.length>3&&(a.noticeTable=a.noticeTable.slice(0,3))):T.error(e.msg)})})();const h=()=>{s.get("/echarts/bar").then(e=>{if(e.code==="200"){let t=document.getElementById("bar"),i=c(t);d.xAxis.data=e.data.xAxis,d.series[0].data=e.data.yAxis,i.setOption(d)}})},y=()=>{s.get("/echarts/line").then(e=>{if(e.code==="200"){let t=document.getElementById("line"),i=c(t);r.xAxis.data=e.data.xAxis,r.series[0].data=e.data.yAxis,i.setOption(r)}})},x=()=>{s.get("/echarts/pie").then(e=>{if(e.code==="200"){let t=document.getElementById("pie"),i=c(t);p.series[0].data=e.data,i.setOption(p)}})};_(()=>{x(),h(),y()});let r={title:{text:"最近一周每天平台帖子发布数量",subtext:"",left:"center"},legend:{data:[],template:""},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},tooltip:{trigger:"item"},xAxis:{name:"日期",type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{name:"攻略数量",type:"value"},series:[{name:"攻略数量",data:[820,932,901,934,1290,1330,1320],type:"line",smooth:!0,markLine:{data:[{type:"average",name:"最近一周场攻略发布数量平均值"}]},markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]}}]},d={title:{text:"不同类型旅游攻略数量柱状图",subtext:"统计维度：攻略分类",left:"center"},grid:{bottom:"20%"},legend:{orient:"vertical",left:"left"},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],name:"用户昵称",axisLabel:{show:!0,interval:0,rotate:-60,inside:!1,margin:6}},yAxis:{type:"value",name:"攻略数量"},tooltip:{trigger:"item"},series:[{data:[120,200,150,80,70,110,130],type:"bar",itemStyle:{normal:{color:function(){return"#"+Math.floor(Math.random()*(256*256*256-1)).toString(16)}}}}]},p={title:{text:"帖子分类统计",subtext:"攻略分类",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"数量",type:"pie",radius:"50%",data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};return(e,t)=>{const i=k,f=S;return o(),n("div",O,[a.user.role==="USER"?(o(),n("div",M,"欢迎来到大郑王朝")):v("",!0),a.user.role==="USER"?(o(),n("div",C,[t[0]||(t[0]=l("div",{style:{"margin-bottom":"20px","font-size":"20px"}},"系统公告",-1)),A(f,null,{default:u(()=>[(o(!0),n(w,null,E(a.noticeTable,m=>(o(),B(i,{timestamp:m.time,placement:"top",color:"#0bbd87"},{default:u(()=>[l("h3",null,g(m.title),1),l("p",null,g(m.content),1)]),_:2},1032,["timestamp"]))),256))]),_:1})])):(o(),n("div",L,t[1]||(t[1]=[l("div",{style:{display:"flex","grid-gap":"10px"}},[l("div",{class:"card",style:{height:"400px",width:"50%"},id:"pie"}),l("div",{class:"card",style:{height:"400px",width:"50%"},id:"bar"})],-1),l("div",{class:"card",style:{height:"400px",width:"100%","margin-top":"10px"},id:"line"},null,-1)])))])}}};export{U as default};
