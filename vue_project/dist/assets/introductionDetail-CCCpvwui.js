/* empty css             */import{_ as v,e as f,q as m,c as a,a as t,t as i,f as _,w as y,D as w,u as D,s as k,a8 as b,a9 as I,l as z,F as C,r as N,m as l,p as r,y as T,o as d}from"./index-0MHbT1SH.js";const B={style:{width:"70%",margin:"50px auto"}},M={style:{"text-align":"center","font-size":"25px","font-weight":"bold"}},V={style:{"margin-top":"15px",display:"flex","align-items":"center","justify-content":"center"}},F=["src"],q={style:{"font-size":"15px","margin-left":"5px"}},E={style:{"font-size":"15px","margin-left":"10px"}},L={style:{"font-size":"15px","margin-left":"10px"}},S=["innerHTML"],U={class:"comment"},j={key:0,class:"elIcon"},H={key:1,style:{display:"flex","align-items":"center",gap:"10px"}},A=["src"],J={style:{width:"300px",display:"flex","align-items":"center"}},O={class:"comment-header"},R={class:"comment-count"},$={style:{"font-size":"15px","font-weight":"normal"}},G={class:"comment-list"},K={style:{display:"flex"}},P=["src"],Q={class:"comment-content"},W={class:"comment-meta"},X={class:"username"},Y={class:"comment-text"},Z={class:"comment-actions"},tt={class:"time"},et={class:"action"},ot={__name:"introductionDetail",setup(st){const e=f({user:JSON.parse(localStorage.getItem("code_user")||"{}"),introductionId:m.currentRoute.value.query.id,introductionData:{},content:null,comments:[]}),c=()=>{l.get("/introduction/selectByid/"+e.introductionId).then(s=>{s.code==="200"?e.introductionData=s.data:r.error(s.msg)}),l.get("introduction/selectComment/"+e.introductionId).then(s=>{s.code==="200"?e.comments=s.data:r.error(s.msg)})};c();const h=()=>{const s={content:e.content,introductionId:e.introductionId};l.post("/introduction/commit",s).then(o=>{o.code==="200"&&(e.content=null,r.success("评论成功"),c())})};return c(),(s,o)=>{var u,p;const x=T("UserFilled"),g=w;return d(),a("div",B,[t("div",M,i(e.introductionData.title),1),t("div",V,[t("img",{src:e.introductionData.userAvatar,alt:"用户头像",style:{width:"30px",height:"30px","border-radius":"50%"}},null,8,F),t("div",q,i(e.introductionData.userName),1),t("div",E,"所属分类: "+i(e.introductionData.categoryTitle),1),t("div",L,"发布时间: "+i(e.introductionData.time),1)]),t("div",{innerHTML:e.introductionData.content,style:{"margin-top":"50px",padding:"0 50px"}},null,8,S),t("div",U,[e.user.id?(d(),a("div",H,[(u=e.user)!=null&&u.avatar?(d(),a("img",{key:0,src:(p=e.user)==null?void 0:p.avatar,style:{width:"40px",height:"40px","border-radius":"50%"}},null,8,A)):k("",!0),t("div",J,[b(t("input",{"onUpdate:modelValue":o[1]||(o[1]=n=>e.content=n),placeholder:"  说点什么...",style:{width:"350px",height:"35px","border-radius":"8px"}},null,512),[[I,e.content]]),t("button",{onClick:h,style:{width:"70px","background-color":"#599ee8",height:"35px","border-radius":"10px",cursor:"pointer","font-size":"15px","margin-left":"5px"}},"提交")])])):(d(),a("div",j,[_(g,null,{default:y(()=>[_(x)]),_:1}),t("div",{style:{width:"200px","background-color":"#4c87c6",height:"40px","font-size":"18px","font-weight":"bold","font-family":"'Bell MT'","text-align":"center",cursor:"pointer",display:"flex","justify-content":"center","align-items":"center",color:"white","border-radius":"15px"},onClick:o[0]||(o[0]=n=>D(m).push("/login"))}," 请登录后评论 ")]))]),t("div",O,[t("span",R,[o[2]||(o[2]=z("评论 ")),t("span",$,i(e.comments.length),1)])]),o[5]||(o[5]=t("div",{class:"divider"},null,-1)),t("div",G,[(d(!0),a(C,null,N(e.comments,n=>(d(),a("div",{key:n.id,class:"comment-item"},[t("div",K,[t("img",{src:n.avatar,alt:"头像",class:"avatar"},null,8,P),t("div",Q,[t("div",W,[t("span",X,i(n.name),1)]),t("div",Y,i(n.content),1),t("div",Z,[t("span",tt,i(n.time),1),t("span",et,"👍 "+i(n.likes),1),o[3]||(o[3]=t("span",{class:"action"},"回复",-1))])])]),o[4]||(o[4]=t("div",{class:"divide"},null,-1))]))),128))])])}}},at=v(ot,[["__scopeId","data-v-1cf17874"]]);export{at as default};
