/* empty css             *//* empty css               *//* empty css                  *//* empty css              */import{b as w,e as c,c as _,a as d,f as s,w as t,E as g,k as x,o as V,g as P,h as b,l as v,m as k,p}from"./index-0MHbT1SH.js";const y={class:"card",style:{width:"35%"}},E={style:{"text-align":"center"}},S={__name:"UpdatePassword",setup(I){const u=w(),o=c({user:JSON.parse(localStorage.getItem("code_user")),rules:{password:[{required:!0,message:"请输入密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入密码",trigger:"blur"}],new2Password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}),m=()=>{u.value.validate(n=>{n&&k.post("/updatePassword",o.user).then(e=>{e.code==="200"?(p.success("修改成功"),setInterval(()=>{localStorage.removeItem("code_user"),location.href="/login"},500)):p.error(e.msg)})})};return(n,e)=>{const l=b,a=P,i=g,f=x;return V(),_("div",y,[e[4]||(e[4]=d("div",{style:{color:"#2c82ff","font-size":"17px"}},"修改密码",-1)),d("div",null,[s(i,{ref_key:"formRef",ref:u,"label-width":"80px",style:{padding:"20px 30px 0 0"},model:o.user,rules:o.rules},{default:t(()=>[s(a,{label:"原密码",prop:"password"},{default:t(()=>[s(l,{modelValue:o.user.password,"onUpdate:modelValue":e[0]||(e[0]=r=>o.user.password=r),"prefix-icon":"Lock",autocomplete:"off"},null,8,["modelValue"])]),_:1}),s(a,{label:"新密码",prop:"newPassword"},{default:t(()=>[s(l,{modelValue:o.user.newPassword,"onUpdate:modelValue":e[1]||(e[1]=r=>o.user.newPassword=r),"prefix-icon":"Lock",autocomplete:"off","show-password":""},null,8,["modelValue"])]),_:1}),s(a,{label:"确认密码",prop:"new2Password"},{default:t(()=>[s(l,{modelValue:o.user.new2Password,"onUpdate:modelValue":e[2]||(e[2]=r=>o.user.new2Password=r),"prefix-icon":"Lock",autocomplete:"off","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),d("div",E,[s(f,{type:"primary",style:{padding:"20px"},onClick:m},{default:t(()=>e[3]||(e[3]=[v("保存")])),_:1})])])])}}};export{S as default};
