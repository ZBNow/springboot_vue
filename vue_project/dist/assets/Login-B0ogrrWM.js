/* empty css             *//* empty css                  *//* empty css               *//* empty css            *//* empty css               *//* empty css               *//* empty css              */import{b as x,e as w,c as b,a as s,f as o,w as r,E as y,o as h,g as V,h as E,i as v,j as k,k as N,l as d,m as U,p as u,q as I}from"./index-0MHbT1SH.js";import"./index-DXY6bQZx.js";const S={class:"bg"},q={style:{width:"350px",height:"350px","box-shadow":"0 0 10px rgba(0, 0, 0, 0.1 )","background-color":"#ffffff","border-radius":"5px",padding:"20px 20px"}},z={style:{display:"flex","justify-content":"center","margin-bottom":"20px","margin-top":"20px"}},J={__name:"Login",setup(B){const n=x({}),t=w({form:{role:"ADMIN"},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"},{min:3,message:"不能少于三位",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}),f=()=>{n.value.validate(m=>{m&&U.post("/login",t.form).then(e=>{e.code==="200"?(localStorage.setItem("code_user",JSON.stringify(e.data||{})),u.success("登入成功"),e.data.role==="USER"?location.href="/front/home":I.push("/manager/home")):u.error(e.msg)})})};return(m,e)=>{const i=E,a=V,p=k,g=v,c=N,_=y;return h(),b("div",S,[s("div",q,[o(_,{ref_key:"formRef",ref:n,model:t.form,rules:t.rules},{default:r(()=>[e[4]||(e[4]=s("div",{style:{"text-align":"center","font-size":"28px","font-weight":"bold","margin-bottom":"30px"}},"欢 迎 登 入",-1)),o(a,{prop:"username"},{default:r(()=>[o(i,{"prefix-icon":"User",modelValue:t.form.username,"onUpdate:modelValue":e[0]||(e[0]=l=>t.form.username=l),size:"large",autocomplete:"new-password",placeholder:"请输入账号"},null,8,["modelValue"])]),_:1}),o(a,{prop:"password"},{default:r(()=>[o(i,{"prefix-icon":"Lock",modelValue:t.form.password,"onUpdate:modelValue":e[1]||(e[1]=l=>t.form.password=l),size:"large",autocomplete:"new-password",placeholder:"请输入密码","show-password":""},null,8,["modelValue"])]),_:1}),o(a,{prop:"role"},{default:r(()=>[o(g,{size:"large",style:{width:"100%"},modelValue:t.form.role,"onUpdate:modelValue":e[2]||(e[2]=l=>t.form.role=l)},{default:r(()=>[o(p,{label:"管理员",value:"ADMIN"}),o(p,{label:"用户",value:"USER"})]),_:1},8,["modelValue"])]),_:1}),s("div",z,[o(c,{type:"primary",style:{width:"100%"},onClick:f},{default:r(()=>e[3]||(e[3]=[d(" 登 入 ")])),_:1})]),e[5]||(e[5]=s("div",{style:{"text-align":"right"}},[d(" 还没有账号吗? 请"),s("a",{href:"/register",style:{color:"#2c82ff"}},"注册")],-1))]),_:1},8,["model","rules"])])])}}};export{J as default};
